---
title: "Login"
description: "Customize login redirects and user authentication behavior"
---

These filters allow you to customize the login and authentication experience.

## `sc_login_redirect_url`

Filter the redirect URL after login.

```php
add_filter( 'sc_login_redirect_url', function( $url ) {
    // Redirect to custom dashboard
    return home_url( '/my-account/' );
} );

// Or redirect based on user role
add_filter( 'sc_login_redirect_url', function( $url ) {
    $user = wp_get_current_user();
    
    if ( in_array( 'subscriber', $user->roles ) ) {
        return home_url( '/member-dashboard/' );
    }
    
    return $url;
} );
```

## Disable Password Nag

Control whether new users see the password change nag after their account is created with a random, temporary password. SureCart uses default WordPress functionality for best compatibility, so you can use the `get_user_metadata` filter to intercept the `default_password_nag` user meta check.

```php
add_filter( 'get_user_metadata', function( $value, $object_id, $meta_key, $single ) {
    if ( 'default_password_nag' === $meta_key ) {
        return ''; // Return empty to prevent password nag from showing
    }
    return $value;
}, 10, 4 );
```

## Use Cases

### Redirect to Download After Purchase

```php
add_filter( 'sc_login_redirect_url', function( $url ) {
    // If there's a pending download, redirect to downloads page
    if ( isset( $_COOKIE['sc_pending_download'] ) ) {
        return home_url( '/downloads/' );
    }
    
    return $url;
} );
```

### Role-Based Redirects

```php
add_filter( 'sc_login_redirect_url', function( $url ) {
    $user = wp_get_current_user();
    
    // Redirect admins to WordPress dashboard
    if ( in_array( 'administrator', $user->roles ) ) {
        return admin_url();
    }
    
    // Redirect members to member area
    if ( in_array( 'sc_member', $user->roles ) ) {
        return home_url( '/members/' );
    }
    
    // Redirect customers to their account
    return home_url( '/my-account/' );
} );
```

### Redirect to Original Page

```php
add_filter( 'sc_login_redirect_url', function( $url ) {
    // Check for stored redirect URL
    if ( isset( $_GET['redirect_to'] ) ) {
        $redirect = wp_validate_redirect( $_GET['redirect_to'], false );
        if ( $redirect ) {
          return esc_url( $redirect );
        }
    }
    
    // Check session/cookie for original page
    if ( isset( $_COOKIE['sc_original_page'] ) ) {
        $redirect = esc_url( $_COOKIE['sc_original_page'] );
        setcookie( 'sc_original_page', '', time() - 3600, '/' );
        return $redirect;
    }
    
    return $url;
} );
```

### Disable Password Nag for Specific Users

```php
add_filter( 'get_user_metadata', function( $value, $object_id, $meta_key, $single ) {
    if ( 'default_password_nag' !== $meta_key ) {
        return $value;
    }

    // Don't nag users who signed up via social login
    if ( get_user_meta( $object_id, 'social_login', true ) ) {
        return ''; // Return empty to prevent password nag from showing
    }

    return $value;
}, 10, 4 );
```

## Related

<CardGroup cols={2}>
  <Card title="Checkout" icon="credit-card" href="/documentation/actions-filters/checkout">
    Customize checkout user creation and auto-login.
  </Card>
  <Card title="Customers" icon="users" href="/documentation/actions-filters/customers">
    Hook into customer lifecycle events.
  </Card>
</CardGroup>


---
title: "Product Actions"
description: "Hook into product lifecycle events"
---

These actions fire when products are created, updated, deleted, or when stock levels change.

## `surecart/product_created`

Fires when a new product is created.

<ResponseField name="Parameters" type="Action Parameters">
  <Expandable title="properties">
    <ResponseField name="$product" type="\SureCart\Models\Product">
      The product model object.
    </ResponseField>
    <ResponseField name="$data" type="object">
      The raw event data.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_action( 'surecart/product_created', function( $product, $data ) {
    // Sync new product to external system
    sync_product_to_inventory( $product->id, $product->name );
}, 10, 2 );
```

## `surecart/product_updated`

Fires when a product is updated.

<ResponseField name="Parameters" type="Action Parameters">
  <Expandable title="properties">
    <ResponseField name="$product" type="\SureCart\Models\Product">
      The updated product model object.
    </ResponseField>
    <ResponseField name="$data" type="object">
      The raw event data.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_action( 'surecart/product_updated', function( $product, $data ) {
    // Clear product cache
    wp_cache_delete( 'product_' . $product->id, 'surecart' );

    // Update external inventory system
    update_inventory_system( $product->id, $product->name );
}, 10, 2 );
```

## `surecart/product_deleted`

Fires when a product is deleted.

<ResponseField name="Parameters" type="Action Parameters">
  <Expandable title="properties">
    <ResponseField name="$product" type="\SureCart\Models\Product">
      The deleted product model object.
    </ResponseField>
    <ResponseField name="$data" type="object">
      The raw event data.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_action( 'surecart/product_deleted', function( $product, $data ) {
    // Remove from external systems
    remove_product_from_inventory( $product->id );
    
    // Clear caches
    wp_cache_delete( 'product_' . $product->id, 'surecart' );
}, 10, 2 );
```

## `surecart/product_stock_adjusted`

Fires when a product's stock level changes (e.g., after a purchase or manual adjustment).

<ResponseField name="Parameters" type="Action Parameters">
  <Expandable title="properties">
    <ResponseField name="$product" type="\SureCart\Models\Product">
      The product model object with updated stock.
    </ResponseField>
    <ResponseField name="$data" type="object">
      The raw event data.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_action( 'surecart/product_stock_adjusted', function( $product, $data ) {
    // Check for low stock
    if ( $product->stock <= 5 ) {
        wp_mail(
            get_option( 'admin_email' ),
            'Low Stock Alert',
            sprintf( 'Product "%s" has only %d items left.', $product->name, $product->stock )
        );
    }
    
    // Sync stock to external system
    update_inventory_stock( $product->id, $product->stock );
}, 10, 2 );
```

## Use Cases

### Sync Products to External Inventory

```php
add_action( 'surecart/product_created', 'sync_product_to_erp', 10, 2 );
add_action( 'surecart/product_updated', 'sync_product_to_erp', 10, 2 );

function sync_product_to_erp( $product, $data ) {
    wp_remote_post( 'https://erp.example.com/api/products', [
        'body' => [
            'external_id' => $product->id,
            'name' => $product->name,
            'sku' => $product->sku ?? '',
            'stock' => $product->stock ?? 0,
        ],
        'headers' => [
            'Authorization' => 'Bearer ' . ERP_API_KEY,
        ],
    ]);
}
```

### Low Stock Notifications

```php
add_action( 'surecart/product_stock_adjusted', function( $product, $data ) {
    $low_stock_threshold = get_option( 'sc_low_stock_threshold', 10 );
    
    if ( $product->stock <= $low_stock_threshold && $product->stock > 0 ) {
        // Send Slack notification
        wp_remote_post( SLACK_WEBHOOK_URL, [
            'body' => json_encode([
                'text' => sprintf( 'âš ï¸ Low stock: %s has %d units remaining', $product->name, $product->stock )
            ]),
        ]);
    }
    
    if ( $product->stock === 0 ) {
        // Send out of stock alert
        wp_remote_post( SLACK_WEBHOOK_URL, [
            'body' => json_encode([
                'text' => sprintf( 'ðŸš¨ Out of stock: %s', $product->name )
            ]),
        ]);
    }
}, 10, 2 );
```


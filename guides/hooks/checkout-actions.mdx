---
title: "Checkout Actions"
description: "Hook into checkout and order confirmation events"
---

These actions are triggered during the checkout process and when orders are confirmed.

## `surecart/checkout_confirmed`

Fired after an order is confirmed and all purchases have been processed. Use this for post-checkout operations like analytics tracking, external notifications, or custom logging.

<ResponseField name="Parameters" type="Action Parameters">
  <Expandable title="properties">
    <ResponseField name="$checkout" type="\SureCart\Models\Checkout">
      The checkout model object containing order details.
    </ResponseField>
    <ResponseField name="$request" type="\WP_REST_Request">
      The REST API request object.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_action( 'surecart/checkout_confirmed', function( $checkout, $request ) {
    // Access order details
    $order_id = $checkout->id;
    $total = $checkout->total_amount;
    $customer = $checkout->customer;

    // Track conversion
    if ( function_exists( 'track_conversion' ) ) {
        track_conversion( $order_id, $total );
    }
    
    // Send to external system
    wp_remote_post( 'https://api.example.com/orders', [
        'body' => [
            'order_id' => $order_id,
            'total' => $total,
            'customer_email' => $customer->email,
        ]
    ]);
}, 10, 2 );
```

## Use Cases

### Analytics & Conversion Tracking

```php
add_action( 'surecart/checkout_confirmed', function( $checkout, $request ) {
    // Google Analytics 4 - Server-side tracking
    $measurement_id = 'G-XXXXXXXXXX';
    $api_secret = 'your-api-secret';
    
    wp_remote_post( "https://www.google-analytics.com/mp/collect?measurement_id={$measurement_id}&api_secret={$api_secret}", [
        'body' => json_encode([
            'client_id' => $checkout->customer->id,
            'events' => [[
                'name' => 'purchase',
                'params' => [
                    'transaction_id' => $checkout->id,
                    'value' => $checkout->total_amount / 100,
                    'currency' => $checkout->currency,
                ]
            ]]
        ])
    ]);
}, 10, 2 );
```

### Send to Slack

```php
add_action( 'surecart/checkout_confirmed', function( $checkout, $request ) {
    $webhook_url = 'https://hooks.slack.com/services/YOUR/WEBHOOK/URL';
    
    wp_remote_post( $webhook_url, [
        'body' => json_encode([
            'text' => sprintf(
                'ðŸŽ‰ New order! %s just purchased for %s',
                $checkout->customer->email,
                sc_format_amount( $checkout->total_amount, $checkout->currency )
            )
        ]),
        'headers' => [
            'Content-Type' => 'application/json'
        ]
    ]);
}, 10, 2 );
```

### Custom Order Logging

```php
add_action( 'surecart/checkout_confirmed', function( $checkout, $request ) {
    global $wpdb;
    
    $wpdb->insert(
        $wpdb->prefix . 'custom_orders_log',
        [
            'order_id' => $checkout->id,
            'customer_email' => $checkout->customer->email,
            'total' => $checkout->total_amount,
            'created_at' => current_time( 'mysql' ),
        ]
    );
}, 10, 2 );
```

## Related

<CardGroup cols={2}>
  <Card title="Purchase Actions" icon="bag-shopping" href="/guides/hooks/purchase-actions">
    Hook into individual purchase events for each product in an order.
  </Card>
  <Card title="Checkout Filters" icon="cart-shopping" href="/guides/hooks/checkout-filters">
    Modify checkout behavior with validation and display filters.
  </Card>
</CardGroup>


---
title: "Price Actions"
description: "Hook into price lifecycle events"
---

These actions fire when prices are created, updated, or deleted.

## `surecart/price_created`

Fires when a new price is created for a product.

<ResponseField name="Parameters" type="Action Parameters">
  <Expandable title="properties">
    <ResponseField name="$price" type="\SureCart\Models\Price">
      The price model object.
    </ResponseField>
    <ResponseField name="$data" type="object">
      The raw event data.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_action( 'surecart/price_created', function( $price, $data ) {
    // Log new price creation
    error_log( sprintf( 'New price created: %s for %d cents', $price->id, $price->amount ) );
    
    // Sync to external system
    sync_price_to_crm( $price );
}, 10, 2 );
```

## `surecart/price_updated`

Fires when a price is updated.

<ResponseField name="Parameters" type="Action Parameters">
  <Expandable title="properties">
    <ResponseField name="$price" type="\SureCart\Models\Price">
      The updated price model object.
    </ResponseField>
    <ResponseField name="$data" type="object">
      The raw event data.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_action( 'surecart/price_updated', function( $price, $data ) {
    // Clear price caches
    wp_cache_delete( 'price_' . $price->id, 'surecart' );
    wp_cache_flush_group( 'surecart_prices' );
    
    // Log price change
    error_log( sprintf( 'Price %s updated to %d cents', $price->id, $price->amount ) );
}, 10, 2 );
```

## `surecart/price_deleted`

Fires when a price is deleted.

<ResponseField name="Parameters" type="Action Parameters">
  <Expandable title="properties">
    <ResponseField name="$price" type="\SureCart\Models\Price">
      The deleted price model object.
    </ResponseField>
    <ResponseField name="$data" type="object">
      The raw event data.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_action( 'surecart/price_deleted', function( $price, $data ) {
    // Clear caches
    wp_cache_delete( 'price_' . $price->id, 'surecart' );
    
    // Remove from external system
    remove_price_from_crm( $price->id );
}, 10, 2 );
```

## Use Cases

### Notify Team of Price Changes

```php
add_action( 'surecart/price_updated', function( $price, $data ) {
    // Get the product name
    $product = \SureCart\Models\Product::find( $price->product );
    $product_name = $product->name ?? 'Unknown Product';
    
    // Format the price
    $formatted_price = '$' . number_format( $price->amount / 100, 2 );
    
    // Send notification
    wp_mail(
        'sales@example.com',
        'Price Updated: ' . $product_name,
        sprintf(
            'The price for "%s" has been updated to %s.',
            $product_name,
            $formatted_price
        )
    );
}, 10, 2 );
```

### Clear CDN Cache on Price Changes

```php
add_action( 'surecart/price_created', 'purge_pricing_cache', 10, 2 );
add_action( 'surecart/price_updated', 'purge_pricing_cache', 10, 2 );
add_action( 'surecart/price_deleted', 'purge_pricing_cache', 10, 2 );

function purge_pricing_cache( $price, $data ) {
    // Purge Cloudflare cache for pricing pages
    if ( function_exists( 'cloudflare_purge_by_url' ) ) {
        cloudflare_purge_by_url( home_url( '/pricing/' ) );
    }
}
```


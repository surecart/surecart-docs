---
title: "Checkout & Cart Filters"
description: "Customize cart, checkout validation, and payment modes"
---

These filters allow you to customize the cart and checkout experience, including validation, user creation, and payment modes.

## Cart Filters

### `sc_cart_menu_icon`

Filter the cart menu icon.

<ResponseField name="Parameters" type="Filter Parameters">
  <Expandable title="properties">
    <ResponseField name="$icon" type="string">
      The icon name/identifier.
    </ResponseField>
    <ResponseField name="$type" type="string">
      The icon type or position context.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_filter( 'sc_cart_menu_icon', function( $icon, $type ) {
    return 'shopping-bag'; // Use a different icon
}, 10, 2 );
```

### `sc_cart_disabled`

Disable the cart functionality entirely on specific pages or conditions.

```php
add_filter( 'sc_cart_disabled', function( $disabled ) {
    // Disable cart on specific pages
    if ( is_page( 'landing-page' ) ) {
        return true;
    }
    return $disabled;
} );

// Or disable during maintenance
add_filter( 'sc_cart_disabled', function( $disabled ) {
    if ( get_option( 'maintenance_mode' ) ) {
        return true;
    }
    return $disabled;
} );
```

## Checkout Filters

### `surecart/checkout/finduser`

Control whether SureCart should find/create a WordPress user during checkout.

```php
add_filter( 'surecart/checkout/finduser', function( $find ) {
    // Disable automatic user creation
    return false;
} );

// Or disable for specific conditions
add_filter( 'surecart/checkout/finduser', function( $find ) {
    // Don't create users for free products
    return $find;
} );
```

### `surecart/checkout/validate`

Add custom checkout validation. Return errors to prevent checkout from completing.

<ResponseField name="Parameters" type="Filter Parameters">
  <Expandable title="properties">
    <ResponseField name="$errors" type="\WP_Error">
      Error object to add validation errors to.
    </ResponseField>
    <ResponseField name="$args" type="array">
      Checkout arguments and form data.
    </ResponseField>
    <ResponseField name="$request" type="\WP_REST_Request">
      The REST API request object.
    </ResponseField>
  </Expandable>
</ResponseField>

```php
add_filter( 'surecart/checkout/validate', function( $errors, $args, $request ) {
    // Require a custom field
    if ( empty( $args['metadata']['company_name'] ) ) {
        $errors->add( 'company_required', 'Company name is required.' );
    }
    
    return $errors;
}, 10, 3 );
```

### `surecart_checkout_show_converted_total`

Control whether converted currency totals are shown when using currency conversion.

```php
add_filter( 'surecart_checkout_show_converted_total', function( $show, $checkout ) {
    // Don't show converted total for small orders
    if ( $checkout->total_amount < 1000 ) { // Less than $10
        return false;
    }
    return $show;
}, 10, 2 );
```

### `surecart/payments/mode`

Filter the payment mode (live/test). Useful for testing or staging environments.

```php
add_filter( 'surecart/payments/mode', function( $mode ) {
    // Force test mode for admins
    if ( current_user_can( 'manage_options' ) ) {
        return 'test';
    }
    return $mode;
} );

// Or force test mode on staging
add_filter( 'surecart/payments/mode', function( $mode ) {
    if ( wp_get_environment_type() === 'staging' ) {
        return 'test';
    }
    return $mode;
} );
```

### `sc_checkout_price_selector_first_price_as_default`

Control whether the first price is selected by default in price selectors.

```php
add_filter( 'sc_checkout_price_selector_first_price_as_default', '__return_false' );
```

## Login & Authentication Filters

### `sc_login_redirect_url`

Filter the redirect URL after login.

```php
add_filter( 'sc_login_redirect_url', function( $url ) {
    // Redirect to custom dashboard
    return home_url( '/my-account/' );
} );

// Or redirect based on user role
add_filter( 'sc_login_redirect_url', function( $url ) {
    $user = wp_get_current_user();
    
    if ( in_array( 'subscriber', $user->roles ) ) {
        return home_url( '/member-dashboard/' );
    }
    
    return $url;
} );
```

### `surecart/default_password_nag`

Control whether new users see the password change nag after their account is created.

```php
add_filter( 'surecart/default_password_nag', function( $show, $user_id ) {
    return false; // Disable the nag
}, 10, 2 );
```

## Use Cases

### Validate Minimum Order Amount

```php
add_filter( 'surecart/checkout/validate', function( $errors, $args, $request ) {
    $checkout = $request->get_param( 'checkout' );
    
    if ( isset( $checkout['total_amount'] ) && $checkout['total_amount'] < 500 ) {
        $errors->add( 
            'minimum_order', 
            'Minimum order amount is $5.00.' 
        );
    }
    
    return $errors;
}, 10, 3 );
```

### Restrict Purchases by Country

```php
add_filter( 'surecart/checkout/validate', function( $errors, $args, $request ) {
    $blocked_countries = [ 'XX', 'YY' ]; // Country codes to block
    
    $billing_address = $args['billing_address'] ?? [];
    $country = $billing_address['country'] ?? '';
    
    if ( in_array( $country, $blocked_countries ) ) {
        $errors->add( 
            'country_blocked', 
            'Sorry, we cannot ship to your country.' 
        );
    }
    
    return $errors;
}, 10, 3 );
```

### Force Test Mode for Non-Production

```php
add_filter( 'surecart/payments/mode', function( $mode ) {
    // Always use test mode unless on production
    $allowed_hosts = [ 'www.example.com', 'example.com' ];
    
    if ( ! in_array( $_SERVER['HTTP_HOST'], $allowed_hosts ) ) {
        return 'test';
    }
    
    return $mode;
} );
```

### Custom Redirect After Purchase

```php
add_filter( 'sc_login_redirect_url', function( $url ) {
    // If there's a pending download, redirect to downloads page
    if ( isset( $_COOKIE['sc_pending_download'] ) ) {
        return home_url( '/downloads/' );
    }
    
    return $url;
} );
```

## Related

<CardGroup cols={2}>
  <Card title="Checkout Actions" icon="credit-card" href="/guides/hooks/checkout-actions">
    Hook into checkout confirmation events.
  </Card>
  <Card title="Purchase Actions" icon="bag-shopping" href="/guides/hooks/purchase-actions">
    Hook into purchase lifecycle events.
  </Card>
</CardGroup>

